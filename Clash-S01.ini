; =========================
; 1) 规则集（域名组）
; =========================
ruleset=🛑 广告拦截,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt
ruleset=🤖 ChatGPT,https://raw.githubusercontent.com/Y-0Dfei/clash/refs/heads/main/ChatGPT.txt
ruleset=🌏 国内,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/direct.txt
ruleset=🌏 国内,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/cncidr.txt
ruleset=🎵 TikTok,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/TikTok/TikTok.list
ruleset=🎥 流媒体,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/HBO/HBO.list
ruleset=🎥 流媒体,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/YouTube/YouTube.list
ruleset=🎥 流媒体,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Disney/Disney.list
ruleset=🎥 流媒体,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Netflix/Netflix.list
ruleset=🎥 流媒体,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Spotify/Spotify.list
ruleset=🚀 外网,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt
ruleset=🚀 外网,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt
ruleset=🚀 外网,https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/tld-not-cn.txt
ruleset=🐟 漏网之鱼,[]FINAL

; =========================
; 2) 策略组（域名组 -> 节点组）
; =========================
custom_proxy_group=🛑 广告拦截`select`[]DIRECT`[]REJECT

custom_proxy_group=🤖 ChatGPT`select`[]DIRECT`[]所有-手动`[]所有-自动`[]亚洲-自动`[]香港-自动`[]台湾-自动`[]日本-自动`[]新加坡-自动`[]美国-自动`[]REJECT
custom_proxy_group=🌏 国内`select`[]DIRECT`[]所有-手动`[]所有-自动`[]亚洲-自动`[]香港-自动`[]台湾-自动`[]日本-自动`[]新加坡-自动`[]美国-自动`[]REJECT

; —— TikTok —— 
custom_proxy_group=🎵 TikTok`select`[]TikTok-自动`[]TikTok-兜底`[]亚洲-自动`[]香港-自动`[]台湾-自动`[]日本-自动`[]新加坡-自动`[]美国-自动`[]所有-自动`[]所有-手动`[]DIRECT`[]REJECT

; —— 流媒体 —— 
custom_proxy_group=🎥 流媒体`select`[]DisneyPlus-自动`[]DisneyPlus-兜底`[]Netflix-自动`[]Netflix-兜底`[]YouTube-自动`[]YouTube-兜底`[]亚洲-自动`[]香港-自动`[]台湾-自动`[]日本-自动`[]新加坡-自动`[]美国-自动`[]所有-自动`[]所有-手动`[]DIRECT`[]REJECT

custom_proxy_group=🚀 外网`select`[]亚洲-自动`[]香港-自动`[]台湾-自动`[]日本-自动`[]新加坡-自动`[]美国-自动`[]所有-自动`[]所有-手动`[]DIRECT`[]REJECT
custom_proxy_group=🐟 漏网之鱼`select`[]🚀 外网`[]亚洲-自动`[]所有-自动`[]所有-手动`[]DIRECT`[]REJECT

; =========================
; 3) 节点组
; =========================
custom_proxy_group=所有-手动`select`.*
custom_proxy_group=所有-自动`url-test`.*`https://www.gstatic.com/generate_204,https://cp.cloudflare.com/generate_204,https://www.apple.com/library/test/success.html`300,8,150

; —— 单地区自动组 —— 
custom_proxy_group=香港-自动`url-test`(香港|HK|🇭🇰|Hong Kong|HongKong)`https://www.gstatic.com/generate_204,https://cp.cloudflare.com/generate_204,https://www.apple.com/library/test/success.html`300,8,150
custom_proxy_group=台湾-自动`url-test`(台湾|台|台灣|TW|Taiwan)`https://www.gstatic.com/generate_204,https://cp.cloudflare.com/generate_204,https://www.apple.com/library/test/success.html`300,8,150
custom_proxy_group=日本-自动`url-test`(日本|JP|🇯🇵|Tokyo|大阪|Osaka)`https://www.gstatic.com/generate_204,https://cp.cloudflare.com/generate_204,https://www.apple.com/library/test/success.html`300,8,150
custom_proxy_group=新加坡-自动`url-test`(新加坡|SG|坡|狮城|Singapore|🇸🇬)`https://www.gstatic.com/generate_204,https://cp.cloudflare.com/generate_204,https://www.apple.com/library/test/success.html`300,8,150
custom_proxy_group=美国-自动`url-test`(美国|美|US|🇺🇸|洛杉矶|圣何塞|Silicon|Seattle|LA|San Jose)`https://www.gstatic.com/generate_204,https://cp.cloudflare.com/generate_204,https://www.apple.com/library/test/success.html`300,8,150

; —— 亚洲自动组 —— 
custom_proxy_group=亚洲-自动`url-test`(香港|HK|🇭🇰|Taiwan|台|台灣|TW|🇹🇼|日本|JP|🇯🇵|Tokyo|大阪|Osaka|新加坡|SG|坡|狮城|Singapore|🇸🇬|韩国|韓國|KR|🇰🇷|首尔|Seoul|印尼|Indonesia|🇮🇩|马来西亚|Malaysia|MY|🇲🇾)`https://www.gstatic.com/generate_204,https://cp.cloudflare.com/generate_204,https://www.apple.com/library/test/success.html`300,8,150

; —— Disney+ —— 
custom_proxy_group=DisneyPlus-自动`url-test`(香港|HK|🇭🇰|台湾|台|TW|🇹🇼|日本|JP|🇯🇵|新加坡|SG|🇸🇬|美国|US|🇺🇸)`https://global.edge.bamgrid.com`300,8,150
custom_proxy_group=DisneyPlus-兜底`fallback`(香港|HK|🇭🇰|台湾|台|TW|🇹🇼|日本|JP|🇯🇵|新加坡|SG|🇸🇬|美国|US|🇺🇸)`https://global.edge.bamgrid.com`300,8,150

; —— Netflix —— 
custom_proxy_group=Netflix-自动`url-test`(香港|HK|🇭🇰|台湾|台|TW|🇹🇼|日本|JP|🇯🇵|新加坡|SG|🇸🇬|美国|US|🇺🇸)`https://www.netflix.com/title/80018499`300,8,150
custom_proxy_group=Netflix-兜底`fallback`(香港|HK|🇭🇰|台湾|台|TW|🇹🇼|日本|JP|🇯🇵|新加坡|SG|🇸🇬|美国|US|🇺🇸)`https://www.netflix.com/title/80018499`300,8,150

; —— YouTube —— 
custom_proxy_group=YouTube-自动`url-test`(香港|HK|🇭🇰|台湾|台|TW|🇹🇼|日本|JP|🇯🇵|新加坡|SG|🇸🇬|美国|US|🇺🇸)`https://www.youtube.com/generate_204`300,8,150
custom_proxy_group=YouTube-兜底`fallback`(香港|HK|🇭🇰|台湾|台|TW|🇹🇼|日本|JP|🇯🇵|新加坡|SG|🇸🇬|美国|US|🇺🇸)`https://www.youtube.com/generate_204`300,8,150

; —— TikTok —— 
custom_proxy_group=TikTok-自动`url-test`(香港|HK|🇭🇰|台湾|台|TW|🇹🇼|日本|JP|🇯🇵|新加坡|SG|🇸🇬|韩国|KR|🇰🇷|美国|US|🇺🇸)`https://www.tiktok.com/`300,8,150
custom_proxy_group=TikTok-兜底`fallback`(香港|HK|🇭🇰|台湾|台|TW|🇹🇼|日本|JP|🇯🇵|新加坡|SG|🇸🇬|韩国|KR|🇰🇷|美国|US|🇺🇸)`https://www.tiktok.com/`300,8,150

; =========================
; 4) 规则生成器
; =========================
enable_rule_generator=true
overwrite_original_rules=true

; =========================
; 5) DNS 配置（fake-ip-filter + 国内外分流）
; =========================
clash.dns.enable=true
clash.dns.ipv6=false
clash.dns.enhanced-mode=fake-ip
clash.dns.fake-ip-range=198.18.0.1/16
clash.dns.listen=0.0.0.0:7874
clash.dns.fake-ip-filter=*.lan,*.localdomain,*.example,*.invalid,*.localhost,*.test,*.local,*.home.arpa,time.*.com,time.*.gov,time.*.edu.cn,time.*.apple.com,time1.*.com,time2.*.com,time3.*.com,time4.*.com,time5.*.com,time6.*.com,time7.*.com,ntp.*.com,ntp1.*.com,ntp2.*.com,ntp3.*.com,ntp4.*.com,ntp5.*.com,ntp6.*.com,ntp7.*.com,*.time.edu.cn,*.ntp.org.cn,+.pool.ntp.org,+.msftconnecttest.com,+.msftncsi.com,msftconnecttest.com,msftncsi.com,+.ipv6.microsoft.com,lens.l.google.com,stun.l.google.com,*.router.asus.com,*.linksys.com,*.linksyssmartwifi.com,heartbeat.belkin.com,www.gstatic.com,cp.cloudflare.com,www.apple.com
clash.dns.nameserver=223.5.5.5,223.6.6.6,114.114.114.114,114.114.115.115,1.1.1.1,1.0.0.1,8.8.8.8,8.8.4.4
clash.dns.fallback=1.1.1.1,1.0.0.1,8.8.8.8,8.8.4.4
clash.dns.fallback-filter.geoip=true
clash.dns.fallback-filter.geoip-code=CN
clash.dns.fallback-filter.ipcidr=240.0.0.0/4
